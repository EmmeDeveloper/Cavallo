<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>U Cavaddu Runner - Catania Edition</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #1a0a0a;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    font-family: 'Courier New', monospace;
  }
  #wrap {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  canvas {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    cursor: pointer;
    max-width: 100vw;
    max-height: 100vh;
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  #introVideo {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 60vw; height: auto;
    max-height: 70vh;
    object-fit: contain;
    background: #000;
    border: 3px solid #ff6633;
    display: none;
    z-index: 100;
    cursor: pointer;
  }
  #videoBg {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.8);
    display: none;
    z-index: 99;
  }
  #skipBtn {
    position: fixed;
    bottom: 30px; right: 30px;
    z-index: 101;
    display: none;
    background: rgba(0,0,0,0.7);
    color: #ffcc00;
    border: 2px solid #ff6633;
    padding: 10px 24px;
    font-family: 'Courier New', monospace;
    font-size: 15px;
    cursor: pointer;
  }
  #skipBtn:hover { background: rgba(255,68,0,0.5); }
  #resetBtn {
    position: fixed;
    top: 8px; left: 8px;
    z-index: 50;
    background: rgba(0,0,0,0.5);
    color: #888;
    border: 1px solid #444;
    padding: 4px 10px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
    cursor: pointer;
  }
  @media (max-width: 768px) {
    #resetBtn { display: none; }
  }
  #resetBtn:hover { color: #ff4400; border-color: #ff4400; }
  #creditsOverlay {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.92);
    display: none;
    z-index: 110;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-family: 'Courier New', monospace;
    text-align: center;
    color: #fff;
  }
  #creditsOverlay.show { display: flex; }
  #creditsOverlay h2 {
    color: #ffcc00;
    font-size: 28px;
    margin-bottom: 16px;
    text-shadow: 0 0 12px #ff4400;
  }
  #creditsOverlay p {
    color: #ffa866;
    font-size: 14px;
    margin-bottom: 20px;
  }
  #creditsOverlay .credits-links {
    display: flex;
    gap: 32px;
    margin-bottom: 28px;
  }
  #creditsOverlay .credits-links a {
    color: #ff8855;
    font-size: 18px;
    font-weight: bold;
    text-decoration: none;
    border: 2px solid #ff6633;
    padding: 10px 22px;
    transition: all 0.2s;
  }
  #creditsOverlay .credits-links a:hover {
    color: #ffcc00;
    border-color: #ffcc00;
    background: rgba(255,68,0,0.3);
  }
  #creditsCloseBtn {
    background: rgba(0,0,0,0.7);
    color: #ffcc00;
    border: 2px solid #ff6633;
    padding: 10px 32px;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    cursor: pointer;
  }
  #creditsCloseBtn:hover { background: rgba(255,68,0,0.5); }
  #nicknameOverlay {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.92);
    display: none;
    z-index: 110;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-family: 'Courier New', monospace;
    text-align: center;
    color: #fff;
  }
  #nicknameOverlay.show { display: flex; }
  #nicknameOverlay h2 {
    color: #ffcc00;
    font-size: 28px;
    margin-bottom: 16px;
    text-shadow: 0 0 12px #ff4400;
  }
  #nicknameInput {
    background: rgba(0,0,0,0.7);
    color: #ffcc00;
    border: 2px solid #ff6633;
    padding: 10px 18px;
    font-family: 'Courier New', monospace;
    font-size: 20px;
    text-align: center;
    margin-bottom: 16px;
    outline: none;
    width: 220px;
  }
  #nicknameInput:focus { border-color: #ffcc00; }
  #nicknameBtn {
    background: rgba(0,0,0,0.7);
    color: #ffcc00;
    border: 2px solid #ff6633;
    padding: 10px 32px;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    cursor: pointer;
  }
  #nicknameBtn:hover { background: rgba(255,68,0,0.5); }
</style>
</head>
<body>
<div id="nicknameOverlay">
  <h2>COME TI CHIAMI?</h2>
  <input id="nicknameInput" maxlength="12" placeholder="Nickname...">
  <button id="nicknameBtn">JUCA!</button>
</div>
<div id="creditsOverlay">
  <h2>U CAVADDU RUNNER</h2>
  <p>Realizzato by 2 coglioni durante la festa di Sant'Agata</p>
  <div class="credits-links">
    <a href="https://instagram.com/m.molica" target="_blank">@m.molica</a>
    <a href="https://instagram.com/bardimito" target="_blank">@bardimito</a>
  </div>
  <button id="creditsCloseBtn">CHIUDI</button>
</div>
<div id="videoBg"></div>
<div id="wrap">
  <canvas id="game"></canvas>
  <video id="introVideo" playsinline></video>
  <button id="skipBtn">SKIP >></button>
</div>
<button id="resetBtn">DEV: Reset</button>
<script>const canvas=document['getElementById']('game'),ctx=canvas['getContext']('2d');let GROUND_Y=0x21c;const GRAVITY=0.55,JUMP_FORCE=-0xc,HORSE_W=0x37,HORSE_H=0x4e;let gameState='menu',score=0x0,highScore=parseInt(localStorage['getItem']('cavalloHighScore'))||0x0,speed=3.5,baseSpeed=3.5,frameCount=0x0,animFrame=0x0,lastObstacleSpawn=0x0,menuHover='';const LEADERBOARD_URL='https://script.google.com/macros/s/AKfycbw-cQVuORTcvZciMq1T-3mDI4AFXvALU2jYbpLZmir8I8j0RmG18XVCU97XxPo1MRht/exec';let playerNickname=localStorage['getItem']('cavalloNickname')||'',leaderboardData=[],leaderboardLoading=![],scoreSubmitted=![],btnLeaderboard={'x':0x0,'y':0x0,'w':0x0,'h':0x0},btnLeaderboardBack={'x':0x0,'y':0x0,'w':0x0,'h':0x0};const ROAD_HEIGHT=0x32,bgImage=new Image();bgImage['src']='bg.webp';let bgLoaded=![],bgH=0x21c;bgImage['onload']=()=>{const _0x27c11c=0x3c0;let _0x63f08d=bgImage['naturalWidth'],_0x24828a=bgImage['naturalHeight'];const _0x5a22c3=Math['min'](_0x27c11c/_0x63f08d,0x1),_0x2a22d6=Math['floor'](_0x63f08d*_0x5a22c3),_0x26837f=Math['floor'](_0x24828a*_0x5a22c3);canvas['width']=_0x2a22d6,canvas['height']=_0x26837f+ROAD_HEIGHT,bgH=_0x26837f,GROUND_Y=bgH,horse['y']=GROUND_Y,bgLoaded=!![];},canvas['width']=0x3c0,canvas['height']=0x21c+ROAD_HEIGHT;function px(_0x13aefc,_0x357c00,_0x50046b,_0x4b2355,_0x3c54e0){ctx['fillStyle']=_0x3c54e0,ctx['fillRect'](Math['floor'](_0x13aefc),Math['floor'](_0x357c00),_0x50046b,_0x4b2355);}function outText(_0x5b58c5,_0x35a8ee,_0x176b50,_0x4623b8,_0x31beb9,_0x4f74b6){ctx['font']=_0x31beb9||ctx['font'],ctx['textAlign']=_0x4f74b6||ctx['textAlign'],ctx['lineWidth']=0x3,ctx['strokeStyle']='#000',ctx['lineJoin']='round',ctx['strokeText'](_0x5b58c5,_0x35a8ee,_0x176b50),ctx['fillStyle']=_0x4623b8||ctx['fillStyle'],ctx['fillText'](_0x5b58c5,_0x35a8ee,_0x176b50);}function drawHorseOutline(_0x4c6104,_0x91c368,_0x404b68,_0x2539a0){const _0x5a0da6=[[-0x2,0x0],[0x2,0x0],[0x0,-0x2],[0x0,0x2],[-0x1,-0x1],[0x1,-0x1],[-0x1,0x1],[0x1,0x1]];ctx['globalAlpha']=0.7;for(const [_0x6beed4,_0x1483cc]of _0x5a0da6){drawHorseBody(_0x4c6104+_0x6beed4,_0x91c368+_0x1483cc,_0x404b68,_0x2539a0,!![]);}ctx['globalAlpha']=0x1,drawHorseBody(_0x4c6104,_0x91c368,_0x404b68,_0x2539a0,![]);}function drawHorseBody(_0x4ded74,_0x4d32ee,_0x1e6761,_0x5a4609,_0x4f54a6){const _0x4f9d9f=0x2,_0x5d4ede=_0x4f54a6?'#111':'#f0e8dd',_0x4667ad=_0x4f54a6?'#111':'#e0d4c4',_0x38f7e9=_0x4f54a6?'#111':'#d0c4b4',_0x2ac9cb=_0x4f54a6?'#111':'#f8f4ee',_0x38e065=_0x4f54a6?'#111':'#f5efe5',_0x5df57b=_0x4f54a6?'#111':'#c8baa8',_0x5cac88=_0x4f54a6?'#111':'#1a1410',_0xee0a3d=_0x4f54a6?'#111':'#2a2218',_0x252f09=_0x4f54a6?'#111':'#f0e8dd',_0x512638=_0x4f54a6?'#111':'#f5ece0',_0x45336f=_0x4f54a6?'#111':'#f8ddd0',_0x16b506=_0x4f54a6?'#111':'#f0c8b8',_0x5bc89c=_0x4f54a6?'#111':'#fff',_0x2ef45d=_0x4f54a6?'#111':'#111',_0x4af4fd=_0x4f54a6?'#111':'#bfa090',_0x1b326e=_0x4f54a6?'#111':'#d0b8a8',_0x2fcdb0=_0x4f54a6?'#111':'#e0d4c4',_0x30514d=_0x4f54a6?'#111':'#d0c0b0',_0x1e815f=_0x4f54a6?'#111':'#c0b0a0',_0x420743=_0x4f54a6?'#111':'#333',_0x49b697=_0x4f54a6?'#111':'#daa520',_0x279218=_0x4f54a6?'#111':'#e8b830',_0x4d0411=_0x4f54a6?'#111':'#e8a020',_0x45e45f=_0x4f54a6?'#111':'#f0b830',_0x2e3652=_0x4f54a6?'#111':'#fffff0',_0x507d58=_0x4f54a6?'#111':'#fffde0',_0x2d03fe=_0x4f54a6?'#111':'#8a6020',_0x183d6f=_0x4f54a6?'#111':'#8a5a10',_0x4eee64=_0x4f54a6?'#111':'#f0c040',_0x46534a=_0x4f54a6?'#111':'#ffe070',_0x375ac5=_0x5a4609?-0x3:_0x1e6761===0x0?0x2:-0x2;px(_0x4ded74-0x4*_0x4f9d9f,_0x4d32ee-0x16*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x5cac88),px(_0x4ded74-0x5*_0x4f9d9f,_0x4d32ee-0x18*_0x4f9d9f+_0x375ac5,_0x4f9d9f,0x3*_0x4f9d9f,_0x5cac88),px(_0x4ded74-0x6*_0x4f9d9f,_0x4d32ee-0x19*_0x4f9d9f+_0x375ac5,_0x4f9d9f,0x4*_0x4f9d9f,_0x5cac88),px(_0x4ded74-0x7*_0x4f9d9f,_0x4d32ee-0x18*_0x4f9d9f+_0x375ac5*1.5,_0x4f9d9f,0x3*_0x4f9d9f,_0xee0a3d),px(_0x4ded74-0x8*_0x4f9d9f,_0x4d32ee-0x17*_0x4f9d9f+_0x375ac5*1.5,_0x4f9d9f,0x2*_0x4f9d9f,_0xee0a3d);for(let _0x5d1063=0x0;_0x5d1063<0xe;_0x5d1063++){const _0x58c39d=_0x5d1063<0x3?_0x5d4ede:_0x5d1063<0x6?_0x2ac9cb:_0x5d1063<0xa?_0x4667ad:_0x38f7e9;px(_0x4ded74+_0x5d1063*_0x4f9d9f,_0x4d32ee-0x18*_0x4f9d9f,_0x4f9d9f,0xa*_0x4f9d9f,_0x58c39d);}for(let _0x2957c7=0x3;_0x2957c7<0xb;_0x2957c7++){px(_0x4ded74+_0x2957c7*_0x4f9d9f,_0x4d32ee-0x10*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x38e065);}for(let _0x6f2642=0x1;_0x6f2642<0xd;_0x6f2642++){px(_0x4ded74+_0x6f2642*_0x4f9d9f,_0x4d32ee-0x18*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x5df57b);}px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x17*_0x4f9d9f,_0x4f9d9f,0x7*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x16*_0x4f9d9f,_0x4f9d9f,0x5*_0x4f9d9f,_0x5d4ede),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0x16*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2ac9cb),px(_0x4ded74+0x3*_0x4f9d9f,_0x4d32ee-0x16*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2ac9cb),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x1c*_0x4f9d9f,0x2*_0x4f9d9f,0x5*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0x1f*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x21*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x1c*_0x4f9d9f,_0x4f9d9f,0x5*_0x4f9d9f,_0x5d4ede),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0x1f*_0x4f9d9f,_0x4f9d9f,0x3*_0x4f9d9f,_0x5d4ede);const _0x80e9c4=_0x1e6761===0x0?0x0:_0x4f9d9f;px(_0x4ded74+0xd*_0x4f9d9f,_0x4d32ee-0x1d*_0x4f9d9f+_0x80e9c4,_0x4f9d9f,0x6*_0x4f9d9f,_0x5cac88),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x20*_0x4f9d9f+_0x80e9c4,_0x4f9d9f,0x5*_0x4f9d9f,_0x5cac88),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0x22*_0x4f9d9f+_0x80e9c4,_0x4f9d9f,0x4*_0x4f9d9f,_0x5cac88),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x23*_0x4f9d9f+_0x80e9c4,_0x4f9d9f,0x3*_0x4f9d9f,_0x5cac88),px(_0x4ded74+0xc*_0x4f9d9f,_0x4d32ee-0x1b*_0x4f9d9f+_0x80e9c4,_0x4f9d9f,0x4*_0x4f9d9f,_0xee0a3d),px(_0x4ded74+0x11*_0x4f9d9f,_0x4d32ee-0x25*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x5cac88),px(_0x4ded74+0x11*_0x4f9d9f,_0x4d32ee-0x23*_0x4f9d9f,0x3*_0x4f9d9f,0x4*_0x4f9d9f,_0x252f09),px(_0x4ded74+0x12*_0x4f9d9f,_0x4d32ee-0x24*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x252f09),px(_0x4ded74+0x14*_0x4f9d9f,_0x4d32ee-0x22*_0x4f9d9f,0x3*_0x4f9d9f,0x3*_0x4f9d9f,_0x512638),px(_0x4ded74+0x15*_0x4f9d9f,_0x4d32ee-0x21*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x45336f),px(_0x4ded74+0x16*_0x4f9d9f,_0x4d32ee-0x21*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x45336f),px(_0x4ded74+0x11*_0x4f9d9f,_0x4d32ee-0x25*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0x13*_0x4f9d9f,_0x4d32ee-0x25*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x4667ad),px(_0x4ded74+0x11*_0x4f9d9f,_0x4d32ee-0x24*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x16b506),px(_0x4ded74+0x13*_0x4f9d9f,_0x4d32ee-0x24*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x16b506),px(_0x4ded74+0x13*_0x4f9d9f,_0x4d32ee-0x23*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x5bc89c),px(_0x4ded74+0x14*_0x4f9d9f,_0x4d32ee-0x23*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x2ef45d),px(_0x4ded74+0x17*_0x4f9d9f,_0x4d32ee-0x21*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x4af4fd),px(_0x4ded74+0x15*_0x4f9d9f,_0x4d32ee-0x1f*_0x4f9d9f,0x2*_0x4f9d9f,_0x4f9d9f,_0x1b326e);if(_0x5a4609)px(_0x4ded74+0xc*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0xd*_0x4f9d9f,_0x4d32ee-0xb*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0x9*_0x4f9d9f,0x2*_0x4f9d9f,_0x4f9d9f,_0x420743),px(_0x4ded74+0x2*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0x1*_0x4f9d9f,_0x4d32ee-0xb*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x0*_0x4f9d9f,_0x4d32ee-0x9*_0x4f9d9f,0x2*_0x4f9d9f,_0x4f9d9f,_0x420743);else _0x1e6761===0x0?(px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0xa*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0x7*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x6*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0xa*_0x4f9d9f,_0x4d32ee-0xa*_0x4f9d9f,0x2*_0x4f9d9f,0x5*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xa*_0x4f9d9f,_0x4d32ee-0x5*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74+0xa*_0x4f9d9f,_0x4d32ee-0x4*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xa*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0x1*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0x0*_0x4f9d9f,_0x4d32ee-0xa*_0x4f9d9f,0x2*_0x4f9d9f,0x5*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x0*_0x4f9d9f,_0x4d32ee-0x5*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74-0x1*_0x4f9d9f,_0x4d32ee-0x4*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x30514d),px(_0x4ded74-0x1*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0x4*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0x5*_0x4f9d9f,_0x4d32ee-0xb*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x5*_0x4f9d9f,_0x4d32ee-0x7*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74+0x6*_0x4f9d9f,_0x4d32ee-0x6*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x6*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743)):(px(_0x4ded74+0xc*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0xa*_0x4f9d9f,0x2*_0x4f9d9f,0x5*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0x5*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0x4*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x30514d),px(_0x4ded74+0xb*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0xe*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0xf*_0x4f9d9f,_0x4d32ee-0xb*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x6*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x10*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0x3*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x3*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74+0x4*_0x4f9d9f,_0x4d32ee-0xb*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x5*_0x4f9d9f,_0x4d32ee-0x6*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x30514d),px(_0x4ded74+0x5*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743),px(_0x4ded74+0x1*_0x4f9d9f,_0x4d32ee-0xe*_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x2fcdb0),px(_0x4ded74-0x1*_0x4f9d9f,_0x4d32ee-0xa*_0x4f9d9f,0x2*_0x4f9d9f,0x5*_0x4f9d9f,_0x30514d),px(_0x4ded74-0x1*_0x4f9d9f,_0x4d32ee-0x5*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x1e815f),px(_0x4ded74-0x2*_0x4f9d9f,_0x4d32ee-0x4*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x30514d),px(_0x4ded74-0x2*_0x4f9d9f,_0x4d32ee-0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x420743));const _0x4b3e03=_0x4ded74+0x6*_0x4f9d9f,_0x535fb7=_0x4d32ee-0x12*_0x4f9d9f;px(_0x4b3e03-_0x4f9d9f,_0x535fb7+_0x4f9d9f,_0x4f9d9f,0x4*_0x4f9d9f,_0x2d03fe),px(_0x4b3e03-0x2*_0x4f9d9f,_0x535fb7+0x2*_0x4f9d9f,_0x4f9d9f,0x2*_0x4f9d9f,_0x2d03fe),px(_0x4b3e03,_0x535fb7,0x4*_0x4f9d9f,0x6*_0x4f9d9f,_0x49b697),px(_0x4b3e03+_0x4f9d9f,_0x535fb7,0x2*_0x4f9d9f,0x6*_0x4f9d9f,_0x279218),px(_0x4b3e03+_0x4f9d9f,_0x535fb7+_0x4f9d9f,0x2*_0x4f9d9f,0x4*_0x4f9d9f,_0x4d0411),px(_0x4b3e03+_0x4f9d9f,_0x535fb7+0x2*_0x4f9d9f,0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x45e45f),px(_0x4b3e03,_0x535fb7-_0x4f9d9f,0x4*_0x4f9d9f,_0x4f9d9f,_0x2e3652),px(_0x4b3e03+_0x4f9d9f,_0x535fb7-0x2*_0x4f9d9f,0x2*_0x4f9d9f,_0x4f9d9f,_0x507d58),px(_0x4b3e03,_0x535fb7+0x6*_0x4f9d9f,0x4*_0x4f9d9f,_0x4f9d9f,_0x183d6f),_0x5a4609&&(px(_0x4b3e03+_0x4f9d9f,_0x535fb7-0x3*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x4eee64),px(_0x4b3e03+0x3*_0x4f9d9f,_0x535fb7-0x4*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x4eee64),px(_0x4b3e03-_0x4f9d9f,_0x535fb7-0x2*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x46534a),px(_0x4b3e03+0x5*_0x4f9d9f,_0x535fb7-0x3*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x4eee64),px(_0x4b3e03+0x2*_0x4f9d9f,_0x535fb7-0x5*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x2e3652),px(_0x4b3e03+0x4*_0x4f9d9f,_0x535fb7-0x2*_0x4f9d9f,_0x4f9d9f,_0x4f9d9f,_0x2e3652));}function drawMafiosoColtello(_0x1f21da,_0x3a58ce){const _0x35c25f=0x3;px(_0x1f21da+0x2*_0x35c25f,_0x3a58ce-0x14*_0x35c25f,0x6*_0x35c25f,_0x35c25f,'#222'),px(_0x1f21da+_0x35c25f,_0x3a58ce-0x13*_0x35c25f,0x8*_0x35c25f,_0x35c25f,'#333'),px(_0x1f21da+0x2*_0x35c25f,_0x3a58ce-0x15*_0x35c25f,0x5*_0x35c25f,_0x35c25f,'#2a2a2a'),px(_0x1f21da+0x3*_0x35c25f,_0x3a58ce-0x13*_0x35c25f,0x4*_0x35c25f,0x4*_0x35c25f,'#d4a574'),px(_0x1f21da+0x3*_0x35c25f,_0x3a58ce-0x10*_0x35c25f,0x4*_0x35c25f,_0x35c25f,'#b88a5a'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0x12*_0x35c25f,_0x35c25f,_0x35c25f,'#111'),px(_0x1f21da+0x6*_0x35c25f,_0x3a58ce-0x12*_0x35c25f,_0x35c25f,_0x35c25f,'#111'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0x13*_0x35c25f,_0x35c25f,_0x35c25f,'#222'),px(_0x1f21da+0x6*_0x35c25f,_0x3a58ce-0x13*_0x35c25f,_0x35c25f,_0x35c25f,'#222'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0x10*_0x35c25f,0x2*_0x35c25f,_0x35c25f,'#8a4030'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0xf*_0x35c25f,0x2*_0x35c25f,_0x35c25f,'#c49564'),px(_0x1f21da+0x3*_0x35c25f,_0x3a58ce-0xe*_0x35c25f,0x4*_0x35c25f,0x6*_0x35c25f,'#eee'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0xe*_0x35c25f,0x2*_0x35c25f,0x6*_0x35c25f,'#fff'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0xd*_0x35c25f,0x2*_0x35c25f,_0x35c25f,'#daa520'),px(_0x1f21da+0x5*_0x35c25f,_0x3a58ce-0xc*_0x35c25f,_0x35c25f,_0x35c25f,'#ffd700'),px(_0x1f21da+_0x35c25f,_0x3a58ce-0xe*_0x35c25f,0x2*_0x35c25f,0x2*_0x35c25f,'#d4a574'),px(_0x1f21da+0x7*_0x35c25f,_0x3a58ce-0xe*_0x35c25f,0x2*_0x35c25f,0x2*_0x35c25f,'#d4a574'),px(_0x1f21da,_0x3a58ce-0xc*_0x35c25f,0x2*_0x35c25f,0x3*_0x35c25f,'#d4a574'),px(_0x1f21da+0x8*_0x35c25f,_0x3a58ce-0xc*_0x35c25f,0x2*_0x35c25f,0x3*_0x35c25f,'#d4a574'),px(_0x1f21da+0x9*_0x35c25f,_0x3a58ce-0xc*_0x35c25f,_0x35c25f,0x3*_0x35c25f,'#4a2a10'),px(_0x1f21da+0x9*_0x35c25f,_0x3a58ce-0x10*_0x35c25f,_0x35c25f,0x4*_0x35c25f,'#ccc'),px(_0x1f21da+0x9*_0x35c25f,_0x3a58ce-0x11*_0x35c25f,_0x35c25f,_0x35c25f,'#eee'),px(_0x1f21da+0xa*_0x35c25f,_0x3a58ce-0x10*_0x35c25f,_0x35c25f,0x2*_0x35c25f,'#ddd'),px(_0x1f21da+0x3*_0x35c25f,_0x3a58ce-0x8*_0x35c25f,0x4*_0x35c25f,0x5*_0x35c25f,'#1a1a4a'),px(_0x1f21da+0x4*_0x35c25f,_0x3a58ce-0x8*_0x35c25f,0x2*_0x35c25f,0x5*_0x35c25f,'#222266'),px(_0x1f21da+0x3*_0x35c25f,_0x3a58ce-0x3*_0x35c25f,0x2*_0x35c25f,0x2*_0x35c25f,'#222'),px(_0x1f21da+0x5*_0x35c25f,_0x3a58ce-0x3*_0x35c25f,0x2*_0x35c25f,0x2*_0x35c25f,'#222'),px(_0x1f21da+0x2*_0x35c25f,_0x3a58ce-0x2*_0x35c25f,_0x35c25f,_0x35c25f,'#222'),px(_0x1f21da+0x7*_0x35c25f,_0x3a58ce-0x2*_0x35c25f,_0x35c25f,_0x35c25f,'#222');}function drawMafiosoLupara(_0x4052bd,_0x4d540d){const _0x2b18ff=0x3;px(_0x4052bd+_0x2b18ff,_0x4d540d-0x15*_0x2b18ff,0x8*_0x2b18ff,_0x2b18ff,'#2a2020'),px(_0x4052bd+0x2*_0x2b18ff,_0x4d540d-0x17*_0x2b18ff,0x6*_0x2b18ff,0x2*_0x2b18ff,'#3a2828'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0x18*_0x2b18ff,0x4*_0x2b18ff,_0x2b18ff,'#3a2828'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0x14*_0x2b18ff,0x4*_0x2b18ff,0x5*_0x2b18ff,'#c8956a'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0x13*_0x2b18ff,_0x2b18ff,0x2*_0x2b18ff,'#3a2a1a'),px(_0x4052bd+0x6*_0x2b18ff,_0x4d540d-0x13*_0x2b18ff,_0x2b18ff,0x2*_0x2b18ff,'#3a2a1a'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0x12*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#111'),px(_0x4052bd+0x6*_0x2b18ff,_0x4d540d-0x12*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#111'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0x11*_0x2b18ff,0x3*_0x2b18ff,_0x2b18ff,'#2a1a0a'),px(_0x4052bd+0x7*_0x2b18ff,_0x4d540d-0x12*_0x2b18ff,_0x2b18ff,0x2*_0x2b18ff,'#a06050'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0xf*_0x2b18ff,0x2*_0x2b18ff,_0x2b18ff,'#c8956a'),px(_0x4052bd+0x2*_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,0x6*_0x2b18ff,0x7*_0x2b18ff,'#1a1a1a'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,0x4*_0x2b18ff,0x7*_0x2b18ff,'#252525'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,0x2*_0x2b18ff,0x3*_0x2b18ff,'#ddd'),px(_0x4052bd+0x5*_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,_0x2b18ff,0x4*_0x2b18ff,'#8a0000'),px(_0x4052bd+_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,_0x2b18ff,0x4*_0x2b18ff,'#1a1a1a'),px(_0x4052bd+0x8*_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,_0x2b18ff,0x4*_0x2b18ff,'#1a1a1a'),px(_0x4052bd,_0x4d540d-0xa*_0x2b18ff,0x2*_0x2b18ff,0x2*_0x2b18ff,'#c8956a'),px(_0x4052bd+0x8*_0x2b18ff,_0x4d540d-0xa*_0x2b18ff,0x2*_0x2b18ff,0x2*_0x2b18ff,'#c8956a'),px(_0x4052bd-_0x2b18ff,_0x4d540d-0xe*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#555'),px(_0x4052bd,_0x4d540d-0xd*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#555'),px(_0x4052bd+_0x2b18ff,_0x4d540d-0xc*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#555'),px(_0x4052bd+0x2*_0x2b18ff,_0x4d540d-0xb*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#555'),px(_0x4052bd-0x2*_0x2b18ff,_0x4d540d-0xf*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#666'),px(_0x4052bd-0x3*_0x2b18ff,_0x4d540d-0x10*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#666'),px(_0x4052bd-0x4*_0x2b18ff,_0x4d540d-0x11*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#777'),px(_0x4052bd-0x5*_0x2b18ff,_0x4d540d-0x12*_0x2b18ff,_0x2b18ff,_0x2b18ff,'#777'),px(_0x4052bd-0x6*_0x2b18ff,_0x4d540d-0x13*_0x2b18ff,0x2*_0x2b18ff,_0x2b18ff,'#444'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0xa*_0x2b18ff,_0x2b18ff,0x2*_0x2b18ff,'#5a3a1a'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0x9*_0x2b18ff,_0x2b18ff,0x2*_0x2b18ff,'#5a3a1a'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0x7*_0x2b18ff,0x4*_0x2b18ff,0x4*_0x2b18ff,'#1a1a1a'),px(_0x4052bd+0x4*_0x2b18ff,_0x4d540d-0x7*_0x2b18ff,0x2*_0x2b18ff,0x4*_0x2b18ff,'#222'),px(_0x4052bd+0x3*_0x2b18ff,_0x4d540d-0x3*_0x2b18ff,0x2*_0x2b18ff,0x2*_0x2b18ff,'#1a1010'),px(_0x4052bd+0x5*_0x2b18ff,_0x4d540d-0x3*_0x2b18ff,0x2*_0x2b18ff,0x2*_0x2b18ff,'#1a1010');}function drawMafiosoFornacella(_0x5f38a4,_0x35f9c8,_0x3bc798){const _0x3f3b20=0x3;px(_0x5f38a4+0x2*_0x3f3b20,_0x35f9c8-0x14*_0x3f3b20,0x6*_0x3f3b20,_0x3f3b20,'#444'),px(_0x5f38a4+0x3*_0x3f3b20,_0x35f9c8-0x15*_0x3f3b20,0x4*_0x3f3b20,_0x3f3b20,'#555'),px(_0x5f38a4+0x3*_0x3f3b20,_0x35f9c8-0x13*_0x3f3b20,0x4*_0x3f3b20,0x4*_0x3f3b20,'#d4a574'),px(_0x5f38a4+0x4*_0x3f3b20,_0x35f9c8-0x12*_0x3f3b20,_0x3f3b20,_0x3f3b20,'#111'),px(_0x5f38a4+0x6*_0x3f3b20,_0x35f9c8-0x12*_0x3f3b20,_0x3f3b20,_0x3f3b20,'#111'),px(_0x5f38a4+0x4*_0x3f3b20,_0x35f9c8-0x10*_0x3f3b20,0x3*_0x3f3b20,_0x3f3b20,'#aa5040'),px(_0x5f38a4+0x4*_0x3f3b20,_0x35f9c8-0xf*_0x3f3b20,0x2*_0x3f3b20,_0x3f3b20,'#c49564'),px(_0x5f38a4+0x2*_0x3f3b20,_0x35f9c8-0xe*_0x3f3b20,0x6*_0x3f3b20,0x6*_0x3f3b20,'#006633'),px(_0x5f38a4+0x3*_0x3f3b20,_0x35f9c8-0xe*_0x3f3b20,0x4*_0x3f3b20,0x6*_0x3f3b20,'#008844'),px(_0x5f38a4+0x4*_0x3f3b20,_0x35f9c8-0xe*_0x3f3b20,0x2*_0x3f3b20,_0x3f3b20,'#004422'),px(_0x5f38a4+_0x3f3b20,_0x35f9c8-0xe*_0x3f3b20,_0x3f3b20,0x3*_0x3f3b20,'#d4a574'),px(_0x5f38a4+0x8*_0x3f3b20,_0x35f9c8-0xe*_0x3f3b20,_0x3f3b20,0x3*_0x3f3b20,'#d4a574'),px(_0x5f38a4,_0x35f9c8-0xb*_0x3f3b20,0x2*_0x3f3b20,_0x3f3b20,'#d4a574'),px(_0x5f38a4+0x8*_0x3f3b20,_0x35f9c8-0xb*_0x3f3b20,0x2*_0x3f3b20,_0x3f3b20,'#d4a574');const _0x28e9e4=_0x5f38a4+_0x3f3b20,_0x3cb671=_0x35f9c8-0x1b*_0x3f3b20;px(_0x28e9e4+_0x3f3b20,_0x3cb671+0x5*_0x3f3b20,_0x3f3b20,0x2*_0x3f3b20,'#555'),px(_0x28e9e4+0x4*_0x3f3b20,_0x3cb671+0x5*_0x3f3b20,_0x3f3b20,0x2*_0x3f3b20,'#555'),px(_0x28e9e4,_0x3cb671+0x3*_0x3f3b20,0x6*_0x3f3b20,0x2*_0x3f3b20,'#777'),px(_0x28e9e4+_0x3f3b20,_0x3cb671+0x3*_0x3f3b20,0x4*_0x3f3b20,0x2*_0x3f3b20,'#888'),px(_0x28e9e4+_0x3f3b20,_0x3cb671+0x2*_0x3f3b20,0x4*_0x3f3b20,_0x3f3b20,'#cc3300');const _0x3560ae=_0x3bc798%0xa<0x5;px(_0x28e9e4+0x2*_0x3f3b20,_0x3cb671+_0x3f3b20,0x2*_0x3f3b20,_0x3f3b20,_0x3560ae?'#ff6600':'#ff4400'),px(_0x28e9e4+_0x3f3b20,_0x3cb671,_0x3f3b20,_0x3f3b20,_0x3560ae?'#ffcc00':'#ff8800'),px(_0x28e9e4+0x3*_0x3f3b20,_0x3cb671-_0x3f3b20,_0x3f3b20,_0x3f3b20,_0x3560ae?'#ffcc00':'#ff9900'),px(_0x5f38a4+0x3*_0x3f3b20,_0x35f9c8-0x8*_0x3f3b20,0x4*_0x3f3b20,0x5*_0x3f3b20,'#333'),px(_0x5f38a4+0x4*_0x3f3b20,_0x35f9c8-0x8*_0x3f3b20,0x2*_0x3f3b20,0x5*_0x3f3b20,'#444'),px(_0x5f38a4+0x3*_0x3f3b20,_0x35f9c8-0x3*_0x3f3b20,0x2*_0x3f3b20,0x2*_0x3f3b20,'#222'),px(_0x5f38a4+0x5*_0x3f3b20,_0x35f9c8-0x3*_0x3f3b20,0x2*_0x3f3b20,0x2*_0x3f3b20,'#222');}function drawFornacella1(_0x2cfad5,_0x24cb7e,_0x1455cd){const _0x6a872b=0x3;px(_0x2cfad5+_0x6a872b,_0x24cb7e-_0x6a872b,_0x6a872b,0x2*_0x6a872b,'#555'),px(_0x2cfad5+0x4*_0x6a872b,_0x24cb7e,_0x6a872b,_0x6a872b,'#555'),px(_0x2cfad5+0x7*_0x6a872b,_0x24cb7e-_0x6a872b,_0x6a872b,0x2*_0x6a872b,'#555'),px(_0x2cfad5,_0x24cb7e-0x2*_0x6a872b,0x9*_0x6a872b,_0x6a872b,'#666'),px(_0x2cfad5,_0x24cb7e-0x7*_0x6a872b,0x9*_0x6a872b,0x5*_0x6a872b,'#777'),px(_0x2cfad5+_0x6a872b,_0x24cb7e-0x7*_0x6a872b,0x7*_0x6a872b,0x5*_0x6a872b,'#888'),px(_0x2cfad5,_0x24cb7e-0x7*_0x6a872b,0x9*_0x6a872b,_0x6a872b,'#999');for(let _0x85d394=0x1;_0x85d394<0x8;_0x85d394+=0x2)px(_0x2cfad5+_0x85d394*_0x6a872b,_0x24cb7e-0x7*_0x6a872b,_0x6a872b,_0x6a872b,'#aaa');px(_0x2cfad5+_0x6a872b,_0x24cb7e-0x6*_0x6a872b,0x7*_0x6a872b,_0x6a872b,'#aa2200'),px(_0x2cfad5+0x2*_0x6a872b,_0x24cb7e-0x5*_0x6a872b,0x5*_0x6a872b,_0x6a872b,'#cc3300');const _0x52ebd0=_0x1455cd%0xc<0x6;px(_0x2cfad5+0x2*_0x6a872b,_0x24cb7e-0x8*_0x6a872b,_0x6a872b,_0x6a872b,_0x52ebd0?'#ff6600':'#ff4400'),px(_0x2cfad5+0x4*_0x6a872b,_0x24cb7e-0x9*_0x6a872b,_0x6a872b,_0x6a872b,_0x52ebd0?'#ffcc00':'#ff8800'),px(_0x2cfad5+0x6*_0x6a872b,_0x24cb7e-0x8*_0x6a872b,_0x6a872b,_0x6a872b,_0x52ebd0?'#ff8800':'#ff5500'),px(_0x2cfad5+0x3*_0x6a872b,_0x24cb7e-0xa*_0x6a872b,_0x6a872b,_0x6a872b,_0x52ebd0?'#ffdd00':'#ff9900'),px(_0x2cfad5+0x5*_0x6a872b,_0x24cb7e-0x8*_0x6a872b,0x2*_0x6a872b,_0x6a872b,_0x52ebd0?'#ff5500':'#ff3300');}function drawFornacella2(_0x6246f0,_0x4c8837,_0x4cad35){const _0x2b6811=0x3;px(_0x6246f0+_0x2b6811,_0x4c8837,_0x2b6811,0x2*_0x2b6811,'#555'),px(_0x6246f0+0x8*_0x2b6811,_0x4c8837,_0x2b6811,0x2*_0x2b6811,'#555'),px(_0x6246f0,_0x4c8837-0x8*_0x2b6811,0xa*_0x2b6811,0x7*_0x2b6811,'#666'),px(_0x6246f0+_0x2b6811,_0x4c8837-0x8*_0x2b6811,0x8*_0x2b6811,0x7*_0x2b6811,'#777'),px(_0x6246f0+0x2*_0x2b6811,_0x4c8837-0x7*_0x2b6811,0x6*_0x2b6811,0x5*_0x2b6811,'#888'),px(_0x6246f0+_0x2b6811,_0x4c8837-0x9*_0x2b6811,0x8*_0x2b6811,_0x2b6811,'#999');const _0x570459=_0x4cad35%0xa<0x5;px(_0x6246f0+0x2*_0x2b6811,_0x4c8837-0xa*_0x2b6811,0x2*_0x2b6811,_0x2b6811,_0x570459?'#ff5500':'#ff3300'),px(_0x6246f0+0x5*_0x2b6811,_0x4c8837-0xb*_0x2b6811,0x2*_0x2b6811,_0x2b6811,_0x570459?'#ffcc00':'#ff8800'),px(_0x6246f0+0x3*_0x2b6811,_0x4c8837-0xc*_0x2b6811,_0x2b6811,_0x2b6811,_0x570459?'#ffdd00':'#ffaa00'),px(_0x6246f0+0x6*_0x2b6811,_0x4c8837-0xa*_0x2b6811,_0x2b6811,_0x2b6811,_0x570459?'#ff6600':'#ff4400'),px(_0x6246f0+0x4*_0x2b6811,_0x4c8837-0xb*_0x2b6811,_0x2b6811,_0x2b6811,_0x570459?'#ff9900':'#ff5500'),px(_0x6246f0+0x2*_0x2b6811,_0x4c8837-0x9*_0x2b6811,0x6*_0x2b6811,_0x2b6811,'#8a3020'),px(_0x6246f0+0x3*_0x2b6811,_0x4c8837-0x9*_0x2b6811,0x2*_0x2b6811,_0x2b6811,'#aa4030'),px(_0x6246f0+0x6*_0x2b6811,_0x4c8837-0x9*_0x2b6811,_0x2b6811,_0x2b6811,'#aa4030');}function drawFornacellaConArrostitori(_0x262e04,_0x3283ea,_0x3bc4a2){const _0x3f96c5=0x3,_0x107af2=_0x262e04+0x2*_0x3f96c5,_0x31cb4e=_0x3283ea-0x3*_0x3f96c5;ctx['fillStyle']='#d4a574',ctx['fillRect'](_0x107af2+0x2*_0x3f96c5,_0x31cb4e-0x12*_0x3f96c5,0x3*_0x3f96c5,0x3*_0x3f96c5),ctx['fillStyle']='#111',ctx['fillRect'](_0x107af2+0x3*_0x3f96c5,_0x31cb4e-0x11*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#eee',ctx['fillRect'](_0x107af2+_0x3f96c5,_0x31cb4e-0xf*_0x3f96c5,0x5*_0x3f96c5,0x6*_0x3f96c5),ctx['fillStyle']='#ddd',ctx['fillRect'](_0x107af2+0x2*_0x3f96c5,_0x31cb4e-0xf*_0x3f96c5,0x3*_0x3f96c5,0x6*_0x3f96c5),ctx['fillStyle']='#cc0000',ctx['fillRect'](_0x107af2+_0x3f96c5,_0x31cb4e-0xd*_0x3f96c5,0x5*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#d4a574',ctx['fillRect'](_0x107af2,_0x31cb4e-0xe*_0x3f96c5,_0x3f96c5,0x3*_0x3f96c5),ctx['fillRect'](_0x107af2+0x6*_0x3f96c5,_0x31cb4e-0xe*_0x3f96c5,_0x3f96c5,0x3*_0x3f96c5),ctx['fillStyle']='#888',ctx['fillRect'](_0x107af2+0x6*_0x3f96c5,_0x31cb4e-0xb*_0x3f96c5,_0x3f96c5,0x3*_0x3f96c5),ctx['fillRect'](_0x107af2+0x7*_0x3f96c5,_0x31cb4e-0xa*_0x3f96c5,_0x3f96c5,0x2*_0x3f96c5),ctx['fillStyle']='#333',ctx['fillRect'](_0x107af2+0x2*_0x3f96c5,_0x31cb4e-0x9*_0x3f96c5,0x2*_0x3f96c5,0x5*_0x3f96c5),ctx['fillRect'](_0x107af2+0x4*_0x3f96c5,_0x31cb4e-0x9*_0x3f96c5,0x2*_0x3f96c5,0x5*_0x3f96c5),ctx['fillStyle']='#222',ctx['fillRect'](_0x107af2+_0x3f96c5,_0x31cb4e-0x4*_0x3f96c5,0x2*_0x3f96c5,_0x3f96c5),ctx['fillRect'](_0x107af2+0x4*_0x3f96c5,_0x31cb4e-0x4*_0x3f96c5,0x2*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#555',ctx['fillRect'](_0x262e04+_0x3f96c5,_0x3283ea-_0x3f96c5,_0x3f96c5,0x2*_0x3f96c5),ctx['fillRect'](_0x262e04+0x4*_0x3f96c5,_0x3283ea,_0x3f96c5,_0x3f96c5),ctx['fillRect'](_0x262e04+0x7*_0x3f96c5,_0x3283ea-_0x3f96c5,_0x3f96c5,0x2*_0x3f96c5),ctx['fillStyle']='#777',ctx['fillRect'](_0x262e04,_0x3283ea-0x6*_0x3f96c5,0x9*_0x3f96c5,0x5*_0x3f96c5),ctx['fillStyle']='#888',ctx['fillRect'](_0x262e04+_0x3f96c5,_0x3283ea-0x6*_0x3f96c5,0x7*_0x3f96c5,0x5*_0x3f96c5),ctx['fillStyle']='#999',ctx['fillRect'](_0x262e04,_0x3283ea-0x6*_0x3f96c5,0x9*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#cc3300',ctx['fillRect'](_0x262e04+_0x3f96c5,_0x3283ea-0x5*_0x3f96c5,0x7*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#8a2020',ctx['fillRect'](_0x262e04+_0x3f96c5,_0x3283ea-0x7*_0x3f96c5,0x2*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#9a3030',ctx['fillRect'](_0x262e04+0x4*_0x3f96c5,_0x3283ea-0x7*_0x3f96c5,0x2*_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#7a2828',ctx['fillRect'](_0x262e04+0x7*_0x3f96c5,_0x3283ea-0x7*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillStyle']='#aa4030',ctx['fillRect'](_0x262e04+0x2*_0x3f96c5,_0x3283ea-0x7*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillRect'](_0x262e04+0x5*_0x3f96c5,_0x3283ea-0x7*_0x3f96c5,_0x3f96c5,_0x3f96c5);const _0xf7267e=_0x3bc4a2%0xe;ctx['fillStyle']='rgba(200,200,200,0.4)',ctx['fillRect'](_0x262e04+0x2*_0x3f96c5,_0x3283ea-0x8*_0x3f96c5-_0xf7267e%0x4*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillRect'](_0x262e04+0x5*_0x3f96c5,_0x3283ea-0x9*_0x3f96c5-_0xf7267e%0x3*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillRect'](_0x262e04+0x3*_0x3f96c5,_0x3283ea-0xa*_0x3f96c5-_0xf7267e%0x5*_0x3f96c5,_0x3f96c5,_0x3f96c5);const _0xe0213a=_0x3bc4a2%0xa<0x5;ctx['fillStyle']=_0xe0213a?'#ff6600':'#ff4400',ctx['fillRect'](_0x262e04+0x3*_0x3f96c5,_0x3283ea-0x8*_0x3f96c5,_0x3f96c5,_0x3f96c5),ctx['fillStyle']=_0xe0213a?'#ffcc00':'#ff8800',ctx['fillRect'](_0x262e04+0x6*_0x3f96c5,_0x3283ea-0x8*_0x3f96c5,_0x3f96c5,_0x3f96c5);}const introVideo=document['getElementById']('introVideo'),skipBtn=document['getElementById']('skipBtn');introVideo['src']='intro.mp4';let introWatched=localStorage['getItem']('cavalloIntroWatched')==='1',afterVideoTarget='menu';const videoBg=document['getElementById']('videoBg');function playIntro(_0x1411a1){afterVideoTarget=_0x1411a1,videoBg['style']['display']='block',introVideo['style']['display']='block',skipBtn['style']['display']='block',introVideo['currentTime']=0x0,introVideo['play']()['catch'](()=>{endIntro();});}const creditsOverlay=document['getElementById']('creditsOverlay'),creditsCloseBtn=document['getElementById']('creditsCloseBtn');function endIntro(){introVideo['pause'](),introVideo['style']['display']='none',skipBtn['style']['display']='none',videoBg['style']['display']='none',afterVideoTarget==='playing'?(introWatched=!![],localStorage['setItem']('cavalloIntroWatched','1'),gameState='playing',resetGame()):creditsOverlay['classList']['add']('show');}creditsCloseBtn['addEventListener']('click',()=>{creditsOverlay['classList']['remove']('show'),gameState='menu';});const nicknameOverlay=document['getElementById']('nicknameOverlay'),nicknameInput=document['getElementById']('nicknameInput'),nicknameBtn=document['getElementById']('nicknameBtn');let nicknameAction='play';function confirmNickname(){const _0x33bb7a=nicknameInput['value']['trim']();if(!_0x33bb7a)return;playerNickname=_0x33bb7a,localStorage['setItem']('cavalloNickname',playerNickname),nicknameOverlay['classList']['remove']('show');if(nicknameAction==='change'){gameState='menu';return;}!introWatched?playIntro('playing'):(gameState='playing',resetGame());}nicknameBtn['addEventListener']('click',confirmNickname),nicknameInput['addEventListener']('keydown',_0xf41098=>{if(_0xf41098['code']==='Enter')confirmNickname();});function fetchLeaderboard(){if(LEADERBOARD_URL==='YOUR_APPS_SCRIPT_URL_HERE')return;leaderboardLoading=!![],fetch(LEADERBOARD_URL+'?action=get')['then'](_0x1e55a1=>_0x1e55a1['json']())['then'](_0x100a23=>{leaderboardData=_0x100a23,leaderboardLoading=![];})['catch'](()=>{leaderboardLoading=![];});}function submitScore(_0x39027e,_0x37147e){if(LEADERBOARD_URL==='YOUR_APPS_SCRIPT_URL_HERE')return;scoreSubmitted=!![],fetch(LEADERBOARD_URL+'?action=submit&nickname='+encodeURIComponent(_0x39027e)+'&score='+_0x37147e)['then'](_0x2b5b8b=>_0x2b5b8b['json']())['then'](_0x4016ea=>{leaderboardData=_0x4016ea;})['catch'](()=>{});}introVideo['addEventListener']('ended',endIntro),introVideo['addEventListener']('click',endIntro),skipBtn['addEventListener']('click',_0x5d5110=>{_0x5d5110['stopPropagation'](),endIntro();}),document['getElementById']('resetBtn')['addEventListener']('click',()=>{localStorage['removeItem']('cavalloHighScore'),localStorage['removeItem']('cavalloIntroWatched'),localStorage['removeItem']('cavalloRecipes'),localStorage['removeItem']('cavalloNickname'),highScore=0x0,introWatched=![],unlockedRecipes=[],playerNickname='',gameState='menu';});const horse={'x':0xa0,'y':GROUND_Y,'width':HORSE_W,'height':HORSE_H,'vy':0x0,'jumping':![],'grounded':!![]};let obstacles=[],groundOffset=0x0,btnPlay={'x':0x0,'y':0x0,'w':0x0,'h':0x0},btnIntro={'x':0x0,'y':0x0,'w':0x0,'h':0x0},arancini=[],aranciniCollected=0x0,streak=0x0,bestStreak=0x0,multiplier=0x1,recordBroken=![],recordFlashTimer=0x0,floatingTexts=[];const RANKS=[{'score':0x0,'title':'PICCIRIDDU'},{'score':0xc8,'title':'PICCIOTTO'},{'score':0x1f4,'title':'GUAPPO'},{'score':0x3e8,'title':'UOMO\x20D\x27ONORE'},{'score':0x7d0,'title':'PADRINO'},{'score':0xfa0,'title':'RE\x20DI\x20CATANIA'}];let currentRank='',rankUpTimer=0x0;const RECIPES=[{'id':'arancino','name':'Arancino\x20al\x20Ragù','minScore':0xa,'maxScore':0x3e8,'desc':'Riso,\x20ragù\x20di\x20carne,\x20piselli,\x20mozzarella.','steps':'Cuoci\x20il\x20riso\x20al\x20dente\x20e\x20condiscilo\x20col\x20ragù.\x20Forma\x20delle\x20palle,\x20metti\x20dentro\x20mozzarella\x20e\x20piselli,\x20impana\x20e\x20friggi\x20in\x20olio\x20bollente\x20fino\x20a\x20doratura.'},{'id':'norma','name':'Pasta\x20alla\x20Norma','minScore':0x3e8,'maxScore':0x7d0,'desc':'Maccheroni,\x20melanzane\x20fritte,\x20pomodoro,\x20ricotta\x20salata.','steps':'Friggi\x20le\x20melanzane\x20a\x20fette.\x20Cuoci\x20la\x20pasta\x20e\x20condisci\x20con\x20salsa\x20di\x20pomodoro\x20fresco,\x20basilico,\x20melanzane\x20fritte\x20e\x20ricotta\x20salata\x20grattugiata\x20sopra.'},{'id':'granita','name':'Granita\x20con\x20Brioche','minScore':0x7d0,'maxScore':0xdac,'desc':'Granita\x20di\x20mandorla\x20o\x20gelsi\x20con\x20brioche\x20col\x20tuppo.','steps':'Frulla\x20mandorle\x20pelate\x20con\x20acqua\x20e\x20zucchero,\x20filtra\x20e\x20congela\x20mescolando\x20ogni\x2030\x20min.\x20Servi\x20in\x20bicchiere\x20con\x20brioche\x20col\x20tuppo\x20per\x20inzuppare.'},{'id':'cannolo','name':'Cannolo\x20Siciliano','minScore':0xdac,'maxScore':0x1388,'desc':'Cialda\x20croccante,\x20ricotta,\x20gocce\x20di\x20cioccolato.','steps':'Prepara\x20la\x20cialda\x20con\x20farina,\x20strutto\x20e\x20marsala,\x20avvolgila\x20sui\x20tubi\x20e\x20friggi.\x20Riempi\x20con\x20ricotta\x20di\x20pecora\x20setacciata,\x20zucchero\x20e\x20gocce\x20di\x20cioccolato.'},{'id':'caponata','name':'Caponata','minScore':0x1388,'maxScore':0x1b58,'desc':'Melanzane,\x20sedano,\x20olive,\x20capperi\x20in\x20agrodolce.','steps':'Friggi\x20le\x20melanzane\x20a\x20cubetti.\x20In\x20padella\x20cuoci\x20sedano,\x20olive\x20e\x20capperi\x20con\x20salsa\x20di\x20pomodoro,\x20aceto\x20e\x20zucchero.\x20Unisci\x20le\x20melanzane\x20e\x20lascia\x20insaporire.'},{'id':'cartocciata','name':'Cartocciata','minScore':0x1b58,'maxScore':0x251c,'desc':'Pasta\x20brioche\x20farcita\x20con\x20prosciutto,\x20mozzarella,\x20pomodoro.','steps':'Stendi\x20la\x20pasta\x20brioche,\x20farcisci\x20con\x20prosciutto\x20cotto,\x20mozzarella\x20e\x20pomodoro.\x20Chiudi\x20a\x20cartoccio,\x20spennella\x20con\x20uovo\x20e\x20inforna\x20a\x20180\x20gradi\x20per\x2025\x20min.'},{'id':'cipollina','name':'Cipollina\x20Catanese','minScore':0x251c,'maxScore':0x2ee0,'desc':'Sfoglia\x20ripiena\x20di\x20cipolle,\x20prosciutto,\x20mozzarella.','steps':'Stufà\x20le\x20cipolle\x20con\x20olio\x20e\x20un\x20pizzico\x20di\x20zucchero.\x20Stendi\x20la\x20sfoglia,\x20farcisci\x20con\x20cipolle,\x20prosciutto\x20e\x20mozzarella.\x20Arrotola,\x20spennella\x20con\x20uovo\x20e\x20inforna.'},{'id':'crispelle','name':'Crispelle\x20di\x20Riso','minScore':0x2ee0,'maxScore':0x3a98,'desc':'Frittelle\x20di\x20riso\x20con\x20miele,\x20tipiche\x20di\x20San\x20Giuseppe.','steps':'Cuoci\x20il\x20riso\x20nel\x20latte\x20con\x20scorza\x20d\x27arancia.\x20Fai\x20raffreddare,\x20forma\x20delle\x20frittelle\x20e\x20friggi\x20in\x20olio\x20bollente.\x20Scola\x20e\x20condisci\x20con\x20miele\x20caldo.'},{'id':'pesce_spada','name':'Involtini\x20di\x20Pesce\x20Spada','minScore':0x3a98,'maxScore':0x4650,'desc':'Pesce\x20spada,\x20pangrattato,\x20pinoli,\x20uvetta,\x20alloro.','steps':'Batti\x20le\x20fette\x20di\x20pesce\x20spada\x20sottili.\x20Farcisci\x20con\x20pangrattato\x20tostato,\x20pinoli,\x20uvetta\x20e\x20prezzemolo.\x20Arrotola\x20con\x20foglia\x20d\x27alloro\x20e\x20griglia\x20alla\x20brace.'},{'id':'sarde','name':'Pasta\x20con\x20le\x20Sarde','minScore':0x4e20,'maxScore':0x5208,'desc':'Bucatini,\x20sarde,\x20finocchietto\x20selvatico,\x20pinoli,\x20uvetta.','steps':'Lessà\x20il\x20finocchietto\x20selvatico\x20e\x20tienilo\x20da\x20parte.\x20Cuoci\x20le\x20sarde\x20in\x20padella\x20con\x20cipolla,\x20pinoli,\x20uvetta\x20e\x20zafferano.\x20Condisci\x20i\x20bucatini\x20e\x20inforna\x205\x20min.'}];let unlockedRecipes=JSON['parse'](localStorage['getItem']('cavalloRecipes')||'[]'),recipeUnlockTargets=[],btnRecipes={'x':0x0,'y':0x0,'w':0x0,'h':0x0},btnRecipesBack={'x':0x0,'y':0x0,'w':0x0,'h':0x0},btnRecipesPrev={'x':0x0,'y':0x0,'w':0x0,'h':0x0},btnRecipesNext={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function addFloatingText(_0x5918bb,_0x10f546,_0x865a9c,_0x5714da,_0xa28f45){floatingTexts['push']({'text':_0x5918bb,'x':_0x10f546,'y':_0x865a9c,'life':0x3c,'color':_0x5714da||'#ffcc00','size':_0xa28f45||0x10});}function getCurrentRank(){let _0x56a722=RANKS[0x0]['title'];for(const _0x32f6a8 of RANKS){if(score>=_0x32f6a8['score'])_0x56a722=_0x32f6a8['title'];}return _0x56a722;}function drawArancino(_0x58d51b,_0x245aea){const _0x5deb3a=0x2;ctx['fillStyle']='#d4880a',ctx['fillRect'](_0x58d51b+0x2*_0x5deb3a,_0x245aea,0x4*_0x5deb3a,_0x5deb3a),ctx['fillRect'](_0x58d51b+_0x5deb3a,_0x245aea+_0x5deb3a,0x6*_0x5deb3a,_0x5deb3a),ctx['fillRect'](_0x58d51b,_0x245aea+0x2*_0x5deb3a,0x8*_0x5deb3a,0x4*_0x5deb3a),ctx['fillRect'](_0x58d51b+_0x5deb3a,_0x245aea+0x6*_0x5deb3a,0x6*_0x5deb3a,_0x5deb3a),ctx['fillRect'](_0x58d51b+0x2*_0x5deb3a,_0x245aea+0x7*_0x5deb3a,0x4*_0x5deb3a,_0x5deb3a),ctx['fillStyle']='#e8a830',ctx['fillRect'](_0x58d51b+0x2*_0x5deb3a,_0x245aea+0x2*_0x5deb3a,0x3*_0x5deb3a,0x2*_0x5deb3a),ctx['fillRect'](_0x58d51b+_0x5deb3a,_0x245aea+0x3*_0x5deb3a,0x2*_0x5deb3a,_0x5deb3a),ctx['fillStyle']='#f0c848',ctx['fillRect'](_0x58d51b+0x2*_0x5deb3a,_0x245aea+0x2*_0x5deb3a,_0x5deb3a,_0x5deb3a),ctx['fillStyle']='#b06808',ctx['fillRect'](_0x58d51b+0x4*_0x5deb3a,_0x245aea+0x4*_0x5deb3a,0x3*_0x5deb3a,0x2*_0x5deb3a),ctx['fillRect'](_0x58d51b+0x3*_0x5deb3a,_0x245aea+0x6*_0x5deb3a,0x3*_0x5deb3a,_0x5deb3a),frameCount%0x14<0xa&&(ctx['fillStyle']='#fff',ctx['fillRect'](_0x58d51b-_0x5deb3a,_0x245aea+_0x5deb3a,_0x5deb3a,_0x5deb3a),ctx['fillRect'](_0x58d51b+0x7*_0x5deb3a,_0x245aea-_0x5deb3a,_0x5deb3a,_0x5deb3a));}const OBS_TYPES=[{'type':'fornacella1','w':0x1b,'h':0x24},{'type':'fornacella2','w':0x1e,'h':0x28},{'type':'fornacellaGrill','w':0x24,'h':0x3c},{'type':'mafColtello','w':0x21,'h':0x3f},{'type':'mafLupara','w':0x24,'h':0x48},{'type':'mafFornacella','w':0x21,'h':0x54}];function pickRandomObs(){return OBS_TYPES[Math['floor'](Math['random']()*OBS_TYPES['length'])];}let nextSpawnInterval=0x50;function pickNextInterval(){const _0x3b9ec8=Math['max'](0x28-Math['floor'](score/0x1f4),0x12),_0x3bb770=Math['max'](0x50-Math['floor'](score/0x190),0x19),_0x10d05f=Math['random']();if(_0x10d05f<0.15)return _0x3b9ec8+_0x3bb770+Math['floor'](Math['random']()*0x32);return _0x3b9ec8+Math['floor'](Math['random']()*_0x3bb770);}function spawnObstacle(){const _0x56d1f1=Math['min'](0.5,0.1+score/0x3a98),_0x3504e6=Math['random']()<_0x56d1f1,_0x18c57f=pickRandomObs();if(_0x3504e6){const _0x23f629=Math['random']()<0.3+score/0x7530?0x3:0x2;let _0x3be98e=canvas['width']+0x14;for(let _0x2d2884=0x0;_0x2d2884<_0x23f629;_0x2d2884++){const _0x2f1486=Math['floor'](Math['random']()*0xa)+0x4;obstacles['push']({'type':_0x18c57f['type'],'x':_0x3be98e,'y':GROUND_Y,'width':_0x18c57f['w'],'height':_0x18c57f['h']}),_0x3be98e+=_0x18c57f['w']+_0x2f1486;}}else obstacles['push']({'type':_0x18c57f['type'],'x':canvas['width']+0x14,'y':GROUND_Y,'width':_0x18c57f['w'],'height':_0x18c57f['h']});}let jumpPressed=![];function getCanvasPos(_0x2549ad){const _0x564e49=canvas['getBoundingClientRect'](),_0x2e220a=canvas['width']/_0x564e49['width'],_0x17a80c=canvas['height']/_0x564e49['height'],_0x2c3595=_0x2549ad['clientX']||_0x2549ad['touches']&&_0x2549ad['touches'][0x0]&&_0x2549ad['touches'][0x0]['clientX']||0x0,_0x391e66=_0x2549ad['clientY']||_0x2549ad['touches']&&_0x2549ad['touches'][0x0]&&_0x2549ad['touches'][0x0]['clientY']||0x0;return{'x':(_0x2c3595-_0x564e49['left'])*_0x2e220a,'y':(_0x391e66-_0x564e49['top'])*_0x17a80c};}function hitTest(_0x297e2c,_0x5ab4c6){return _0x297e2c['x']>=_0x5ab4c6['x']&&_0x297e2c['x']<=_0x5ab4c6['x']+_0x5ab4c6['w']&&_0x297e2c['y']>=_0x5ab4c6['y']&&_0x297e2c['y']<=_0x5ab4c6['y']+_0x5ab4c6['h'];}let btnChangeNick={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function handleMenuClick(_0x4e1be4){if(hitTest(_0x4e1be4,btnPlay)){if(!playerNickname){nicknameAction='play',nicknameOverlay['classList']['add']('show'),nicknameInput['value']='',nicknameInput['focus']();return;}!introWatched?playIntro('playing'):(gameState='playing',resetGame());}else{if(hitTest(_0x4e1be4,btnLeaderboard))gameState='leaderboard',fetchLeaderboard();else{if(hitTest(_0x4e1be4,btnRecipes))gameState='recipes';else{if(hitTest(_0x4e1be4,btnIntro))playIntro('menu');else playerNickname&&hitTest(_0x4e1be4,btnChangeNick)&&(nicknameAction='change',nicknameOverlay['classList']['add']('show'),nicknameInput['value']=playerNickname,nicknameInput['focus']());}}}}let btnHome={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function onJump(){if(gameState==='gameover'){gameState='playing',resetGame();return;}gameState==='playing'&&horse['grounded']&&(horse['vy']=JUMP_FORCE,horse['jumping']=!![],horse['grounded']=![]);}document['addEventListener']('keydown',_0x25c17e=>{if(_0x25c17e['code']==='Space'||_0x25c17e['code']==='ArrowUp'){_0x25c17e['preventDefault']();if(gameState==='menu'){if(!playerNickname){nicknameAction='play',nicknameOverlay['classList']['add']('show'),nicknameInput['value']='',nicknameInput['focus']();return;}!introWatched?playIntro('playing'):(gameState='playing',resetGame());return;}!jumpPressed&&(jumpPressed=!![],onJump());}_0x25c17e['code']==='Escape'&&(gameState==='playing'||gameState==='gameover'||gameState==='recipes'||gameState==='leaderboard')&&(gameState='menu');}),document['addEventListener']('keyup',_0x1e97f6=>{if(_0x1e97f6['code']==='Space'||_0x1e97f6['code']==='ArrowUp')jumpPressed=![];}),canvas['addEventListener']('mousemove',_0x576202=>{if(gameState!=='menu'){menuHover='';return;}const _0x516964=getCanvasPos(_0x576202);if(hitTest(_0x516964,btnPlay))menuHover='play';else{if(hitTest(_0x516964,btnLeaderboard))menuHover='leaderboard';else{if(hitTest(_0x516964,btnRecipes))menuHover='recipes';else{if(hitTest(_0x516964,btnIntro))menuHover='intro';else menuHover='';}}}});function handleGameClick(_0x583514){if((gameState==='playing'||gameState==='gameover')&&hitTest(_0x583514,btnHome))return gameState='menu',!![];return![];}function handleRecipesClick(_0x364468){const _0x5c25ec=Math['ceil'](RECIPES['length']/RECIPES_PER_PAGE),_0x56aa37=Math['floor'](recipesScroll/RECIPES_PER_PAGE);if(hitTest(_0x364468,btnRecipesBack)){gameState='menu',recipesScroll=0x0;return;}if(_0x56aa37>0x0&&hitTest(_0x364468,btnRecipesPrev)){recipesScroll-=RECIPES_PER_PAGE;return;}if(_0x56aa37<_0x5c25ec-0x1&&hitTest(_0x364468,btnRecipesNext)){recipesScroll+=RECIPES_PER_PAGE;return;}}function handleLeaderboardClick(_0x345321){if(hitTest(_0x345321,btnLeaderboardBack)){gameState='menu';return;}}canvas['addEventListener']('mousedown',_0x27134a=>{_0x27134a['preventDefault']();if(gameState==='menu'){handleMenuClick(getCanvasPos(_0x27134a));return;}if(gameState==='leaderboard'){handleLeaderboardClick(getCanvasPos(_0x27134a));return;}if(gameState==='recipes'){handleRecipesClick(getCanvasPos(_0x27134a));return;}if(handleGameClick(getCanvasPos(_0x27134a)))return;onJump();}),canvas['addEventListener']('touchstart',_0x37d386=>{_0x37d386['preventDefault']();if(gameState==='menu'){handleMenuClick(getCanvasPos(_0x37d386));return;}if(gameState==='leaderboard'){handleLeaderboardClick(getCanvasPos(_0x37d386));return;}if(gameState==='recipes'){handleRecipesClick(getCanvasPos(_0x37d386));return;}if(handleGameClick(getCanvasPos(_0x37d386)))return;onJump();},{'passive':![]}),document['addEventListener']('touchmove',_0x4f9c00=>{_0x4f9c00['preventDefault']();},{'passive':![]}),document['addEventListener']('gesturestart',_0x491756=>{_0x491756['preventDefault']();});function resetGame(){score=0x0,speed=baseSpeed,horse['y']=GROUND_Y,horse['vy']=0x0,horse['jumping']=![],horse['grounded']=!![],obstacles=[],frameCount=0x0,lastObstacleSpawn=0x0,arancini=[],aranciniCollected=0x0,streak=0x0,bestStreak=0x0,multiplier=0x1,recordBroken=![],recordFlashTimer=0x0,floatingTexts=[],currentRank=RANKS[0x0]['title'],rankUpTimer=0x0,scoreSubmitted=![],recipeUnlockTargets=[];for(const _0x1a249c of RECIPES){if(!unlockedRecipes['includes'](_0x1a249c['id'])){const _0x13e8da=_0x1a249c['minScore']+Math['floor'](Math['random']()*(_0x1a249c['maxScore']-_0x1a249c['minScore']));recipeUnlockTargets['push']({'id':_0x1a249c['id'],'target':_0x13e8da});}}}let animTimer=0x0,spawnTimer=0x0;function update(_0x5312c1){if(gameState==='menu'){frameCount++,animTimer+=_0x5312c1;animTimer>=0x8&&(animTimer-=0x8,animFrame=animFrame===0x0?0x1:0x0);return;}if(gameState!=='playing')return;frameCount++,speed=baseSpeed+0x4*Math['log'](0x1+score/0xfa)+0.6*Math['sqrt'](score/0x258),horse['vy']+=GRAVITY*_0x5312c1,horse['y']+=horse['vy']*_0x5312c1;horse['y']>=GROUND_Y&&(horse['y']=GROUND_Y,horse['vy']=0x0,horse['jumping']=![],horse['grounded']=!![]);animTimer+=_0x5312c1;animTimer>=0x8&&(animTimer-=0x8,animFrame=animFrame===0x0?0x1:0x0);spawnTimer+=_0x5312c1;spawnTimer>=nextSpawnInterval&&(spawnObstacle(),spawnTimer=0x0,nextSpawnInterval=pickNextInterval());groundOffset=(groundOffset+speed*_0x5312c1)%0x18,score+=Math['round'](_0x5312c1);const _0x32bc70=horse['x']+0x8,_0x16eaf0=horse['y']-HORSE_H+0xe,_0x4729a9=HORSE_W-0xe,_0xb59ac3=HORSE_H-0x12,_0x33c51d=_0x32bc70+_0x4729a9,_0xc53969=_0x16eaf0+_0xb59ac3;let _0x4212c0=obstacles['length'],_0x32b8b3=0x0;for(let _0x2fda10=0x0;_0x2fda10<_0x4212c0;_0x2fda10++){const _0x1e46ca=obstacles[_0x2fda10];_0x1e46ca['x']-=speed*_0x5312c1;if(_0x1e46ca['x']+_0x1e46ca['width']<-0x32)continue;if(!_0x1e46ca['passed']){const _0x183650=_0x1e46ca['x']+_0x1e46ca['width'];if(_0x1e46ca['x']<horse['x']+HORSE_W&&_0x183650>horse['x']){const _0x223b67=_0x1e46ca['y']-_0x1e46ca['height']+0x4-(horse['y']-0x4);_0x223b67>=0x0&&(_0x1e46ca['minClearance']===undefined||_0x223b67<_0x1e46ca['minClearance'])&&(_0x1e46ca['minClearance']=_0x223b67);}if(_0x183650<horse['x']){_0x1e46ca['passed']=!![],streak++;if(streak>bestStreak)bestStreak=streak;multiplier=Math['min'](0x1+Math['floor'](streak/0x3),0x4);if(_0x1e46ca['minClearance']!==undefined&&_0x1e46ca['minClearance']<0x16){const _0x3c5949=0x32*multiplier;score+=_0x3c5949,addFloatingText('MINCHIA\x20CHE\x20CULO!\x20+'+_0x3c5949,horse['x'],horse['y']-HORSE_H-0x1e,'#ff44ff',0xf);}streak%0x5===0x0&&addFloatingText('STREAK\x20x'+streak+'!',horse['x']+0x28,horse['y']-HORSE_H-0xf,'#00ff88',0xe);}}if(gameState==='playing'){const _0x1e4da2=_0x1e46ca['x']+0x4,_0x48c1fe=_0x1e46ca['y']-_0x1e46ca['height']+0x4;_0x32bc70<_0x1e4da2+_0x1e46ca['width']-0x8&&_0x33c51d>_0x1e4da2&&_0x16eaf0<_0x48c1fe+_0x1e46ca['height']-0x6&&_0xc53969>_0x48c1fe&&(gameState='gameover',streak=0x0,multiplier=0x1,score>highScore&&(highScore=score,localStorage['setItem']('cavalloHighScore',highScore)),playerNickname&&!scoreSubmitted&&submitScore(playerNickname,score));}obstacles[_0x32b8b3++]=_0x1e46ca;}obstacles['length']=_0x32b8b3;(frameCount%0x96===0x0||Math['random']()<0.005&&arancini['length']<0x3)&&arancini['push']({'x':canvas['width']+0xa,'y':GROUND_Y-0x32-Math['random']()*0x3c,'w':0x10,'h':0x10});let _0x3a9bbe=arancini['length'],_0x3ff5bb=0x0;for(let _0x381c8f=0x0;_0x381c8f<_0x3a9bbe;_0x381c8f++){const _0x2764cd=arancini[_0x381c8f];_0x2764cd['x']-=speed*_0x5312c1;if(_0x2764cd['x']<-0x14)continue;if(_0x32bc70<_0x2764cd['x']+_0x2764cd['w']&&_0x33c51d>_0x2764cd['x']&&_0x16eaf0<_0x2764cd['y']+_0x2764cd['h']&&_0xc53969>_0x2764cd['y']){aranciniCollected++;const _0x53f6a8=0x1e*multiplier;score+=_0x53f6a8,addFloatingText('ARANCINU!\x20+'+_0x53f6a8,_0x2764cd['x'],_0x2764cd['y']-0xa,'#ffaa00',0xe);continue;}arancini[_0x3ff5bb++]=_0x2764cd;}arancini['length']=_0x3ff5bb;let _0x540e18=recipeUnlockTargets['length'],_0xd9f6ca=0x0;for(let _0x16070a=0x0;_0x16070a<_0x540e18;_0x16070a++){const _0x207596=recipeUnlockTargets[_0x16070a];if(score>=_0x207596['target']){const _0x4795b2=RECIPES['find'](_0x19176c=>_0x19176c['id']===_0x207596['id']);_0x4795b2&&!unlockedRecipes['includes'](_0x207596['id'])&&(unlockedRecipes['push'](_0x207596['id']),localStorage['setItem']('cavalloRecipes',JSON['stringify'](unlockedRecipes)),addFloatingText('RICETTA\x20SBLOCCATA!',canvas['width']/0x2,0x64,'#ffdd00',0x12),addFloatingText(_0x4795b2['name'],canvas['width']/0x2,0x7a,'#ffcc88',0xf));continue;}recipeUnlockTargets[_0xd9f6ca++]=_0x207596;}recipeUnlockTargets['length']=_0xd9f6ca;!recordBroken&&highScore>0x0&&score>highScore&&(recordBroken=!![],recordFlashTimer=0x5a,addFloatingText('NUOVO\x20RECORD!!!',canvas['width']/0x2-0x3c,0x3c,'#ffd700',0x16),addFloatingText('SEI\x20NU\x20GRANDE!',canvas['width']/0x2-0x32,0x55,'#ff6633',0x10));if(recordFlashTimer>0x0)recordFlashTimer-=_0x5312c1;const _0x4cc222=getCurrentRank();_0x4cc222!==currentRank&&(currentRank!==''&&(rankUpTimer=0x50,addFloatingText('RANK\x20UP:\x20'+_0x4cc222,canvas['width']/0x2-0x46,0x78,'#00ffcc',0x12)),currentRank=_0x4cc222);if(rankUpTimer>0x0)rankUpTimer-=_0x5312c1;let _0xba1cc8=floatingTexts['length'],_0x403128=0x0;for(let _0x1e69f3=0x0;_0x1e69f3<_0xba1cc8;_0x1e69f3++){const _0x18b2be=floatingTexts[_0x1e69f3];_0x18b2be['y']-=0.8*_0x5312c1,_0x18b2be['life']-=_0x5312c1,_0x18b2be['life']>0x0&&(floatingTexts[_0x403128++]=_0x18b2be);}floatingTexts['length']=_0x403128;}function drawBackground(){if(bgLoaded)ctx['drawImage'](bgImage,0x0,0x0,canvas['width'],bgH);else{const _0x1f8d52=ctx['createLinearGradient'](0x0,0x0,0x0,GROUND_Y);_0x1f8d52['addColorStop'](0x0,'#ff6040'),_0x1f8d52['addColorStop'](0.3,'#ff8855'),_0x1f8d52['addColorStop'](0.6,'#cc7070'),_0x1f8d52['addColorStop'](0x1,'#553344'),ctx['fillStyle']=_0x1f8d52,ctx['fillRect'](0x0,0x0,canvas['width'],GROUND_Y);}}function drawGround(){const _0x380859=GROUND_Y;ctx['fillStyle']='#1a1510',ctx['fillRect'](0x0,_0x380859,canvas['width'],ROAD_HEIGHT),ctx['fillStyle']='#4a3e30',ctx['fillRect'](0x0,_0x380859,canvas['width'],0x2);for(let _0x388dd2=-groundOffset;_0x388dd2<canvas['width'];_0x388dd2+=0x18){const _0x548491=Math['floor'](_0x388dd2);ctx['fillStyle']='#2a2218',ctx['fillRect'](_0x548491,_0x380859+0x3,0xa,0x8),ctx['fillStyle']='#332a20',ctx['fillRect'](_0x548491+0xc,_0x380859+0x3,0xa,0x8),ctx['fillStyle']='#2e261c',ctx['fillRect'](_0x548491+0x6,_0x380859+0xd,0xa,0x8),ctx['fillStyle']='#262018',ctx['fillRect'](_0x548491+0x12,_0x380859+0xd,0xa,0x8),ctx['fillStyle']='#241e16',ctx['fillRect'](_0x548491,_0x380859+0x17,0xa,0x8),ctx['fillStyle']='#2c2418',ctx['fillRect'](_0x548491+0xc,_0x380859+0x17,0xa,0x8),ctx['fillStyle']='#14100a',ctx['fillRect'](_0x548491+0xa,_0x380859+0x3,0x2,0x8),ctx['fillRect'](_0x548491+0x10,_0x380859+0xd,0x2,0x8),ctx['fillRect'](_0x548491+0xa,_0x380859+0x17,0x2,0x8);}ctx['fillStyle']='#14100a',ctx['fillRect'](0x0,_0x380859+0xb,canvas['width'],0x2),ctx['fillRect'](0x0,_0x380859+0x15,canvas['width'],0x2),ctx['fillRect'](0x0,_0x380859+0x1f,canvas['width'],0x2),ctx['fillStyle']='#100c08',ctx['fillRect'](0x0,_0x380859+0x21,canvas['width'],ROAD_HEIGHT-0x21);}function drawHorseSprite(){const _0x1029d1=horse['jumping']||!horse['grounded'];drawHorseOutline(horse['x'],horse['y'],animFrame,_0x1029d1);}const OBS_DRAW={'fornacella1':(_0x3b0bc6,_0x17aff7)=>drawFornacella1(_0x3b0bc6,_0x17aff7,frameCount),'fornacella2':(_0x2220e3,_0x5dc2c3)=>drawFornacella2(_0x2220e3,_0x5dc2c3,frameCount),'fornacellaGrill':(_0x572343,_0x109121)=>drawFornacellaConArrostitori(_0x572343,_0x109121,frameCount),'mafColtello':drawMafiosoColtello,'mafLupara':drawMafiosoLupara,'mafFornacella':(_0x40b725,_0x3d566e)=>drawMafiosoFornacella(_0x40b725,_0x3d566e,frameCount)};function drawObstacles(){const _0x181588=canvas['width'];for(let _0x2cc8fd=0x0,_0x27b134=obstacles['length'];_0x2cc8fd<_0x27b134;_0x2cc8fd++){const _0x2f964b=obstacles[_0x2cc8fd];if(_0x2f964b['x']>_0x181588+0xa||_0x2f964b['x']+_0x2f964b['width']<-0xa)continue;OBS_DRAW[_0x2f964b['type']](_0x2f964b['x'],_0x2f964b['y']);}}function drawScore(){ctx['fillStyle']='rgba(0,0,0,0.75)',ctx['fillRect'](canvas['width']-0xac,0x3,0xa9,0x42),ctx['strokeStyle']='rgba(255,102,51,0.4)',ctx['lineWidth']=0x1,ctx['strokeRect'](canvas['width']-0xac,0x3,0xa9,0x42),outText('HI\x20'+String(highScore)['padStart'](0x5,'0'),canvas['width']-0xf,0x16,'#ffdd33','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','right'),outText(String(score)['padStart'](0x5,'0'),canvas['width']-0xf,0x2a,'#fff','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','right'),outText(currentRank,canvas['width']-0xf,0x3a,'#55ffee','bold\x2013px\x20\x22Courier\x20New\x22,\x20monospace','right');recordFlashTimer>0x0&&recordFlashTimer%0x6<0x3&&(ctx['fillStyle']='rgba(255,215,0,0.15)',ctx['fillRect'](0x0,0x0,canvas['width'],canvas['height']));ctx['fillStyle']='rgba(0,0,0,0.75)',ctx['fillRect'](0x30,0x3,0x86,0x31),ctx['strokeStyle']='rgba(255,102,51,0.4)',ctx['strokeRect'](0x30,0x3,0x86,0x31);streak>=0x3&&(outText('STREAK:\x20'+streak,0x38,0x16,'#33ff99','bold\x2013px\x20\x22Courier\x20New\x22,\x20monospace','left'),outText('x'+multiplier,0x38,0x26,'#ffdd44','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','left'));const _0x3ac250=aranciniCollected+'\x20arancin'+(aranciniCollected===0x1?'u':'i');outText(_0x3ac250,streak>=0x3?0x5f:0x38,streak>=0x3?0x26:0x16,'#ffcc33','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','left');const _0x14a224=canvas['width']-0xd2,_0x18250b=0x8,_0x345f8a=0x20,_0x3c853a=0x20;btnHome={'x':_0x14a224,'y':_0x18250b,'w':_0x345f8a,'h':_0x3c853a},ctx['fillStyle']='rgba(0,0,0,0.5)',ctx['fillRect'](_0x14a224,_0x18250b,_0x345f8a,_0x3c853a),ctx['strokeStyle']='#ff6633',ctx['lineWidth']=0x1,ctx['strokeRect'](_0x14a224,_0x18250b,_0x345f8a,_0x3c853a);const _0x338d69=_0x14a224+_0x345f8a/0x2,_0x42fd61=_0x18250b+_0x3c853a/0x2;ctx['fillStyle']='#ddd',ctx['beginPath'](),ctx['moveTo'](_0x338d69,_0x42fd61-0x9),ctx['lineTo'](_0x338d69+0xa,_0x42fd61),ctx['lineTo'](_0x338d69+0x7,_0x42fd61),ctx['lineTo'](_0x338d69+0x7,_0x42fd61+0x8),ctx['lineTo'](_0x338d69-0x7,_0x42fd61+0x8),ctx['lineTo'](_0x338d69-0x7,_0x42fd61),ctx['lineTo'](_0x338d69-0xa,_0x42fd61),ctx['closePath'](),ctx['fill'](),ctx['fillStyle']='#ff6633',ctx['fillRect'](_0x338d69-0x2,_0x42fd61+0x1,0x5,0x7);}function drawFloatingTexts(){for(const _0x206679 of floatingTexts){const _0x2dc15c=Math['min'](0x1,_0x206679['life']/0x14);ctx['globalAlpha']=_0x2dc15c;const _0x120ef8='bold\x20'+_0x206679['size']+'px\x20\x22Courier\x20New\x22,\x20monospace';ctx['font']=_0x120ef8,ctx['textAlign']='center',ctx['lineWidth']=0x4,ctx['strokeStyle']='rgba(0,0,0,0.9)',ctx['lineJoin']='round',ctx['strokeText'](_0x206679['text'],_0x206679['x'],_0x206679['y']),ctx['fillStyle']=_0x206679['color'],ctx['fillText'](_0x206679['text'],_0x206679['x'],_0x206679['y']),ctx['globalAlpha']=0x1;}}function drawAranciniSprites(){for(const _0xf0642c of arancini){drawArancino(_0xf0642c['x'],_0xf0642c['y']);}}function drawMenuButton(_0x2e6e8a,_0x549483,_0x2024b2,_0x25bb54,_0x8d5c4f,_0x6131b3){ctx['fillStyle']=_0x6131b3?'rgba(255,68,0,0.5)':'rgba(0,0,0,0.75)',ctx['fillRect'](_0x2e6e8a,_0x549483,_0x2024b2,_0x25bb54),ctx['strokeStyle']=_0x6131b3?'#ffdd00':'#ff6633',ctx['lineWidth']=_0x6131b3?0x3:0x2,ctx['strokeRect'](_0x2e6e8a,_0x549483,_0x2024b2,_0x25bb54),outText(_0x8d5c4f,_0x2e6e8a+_0x2024b2/0x2,_0x549483+_0x25bb54/0x2+0x8,_0x6131b3?'#ffdd00':'#ffffff','bold\x2022px\x20\x22Courier\x20New\x22,\x20monospace','center');}function drawMenu(){drawBackground(),drawGround(),drawHorseOutline(canvas['width']/0x2-0x19,GROUND_Y,animFrame,![]),ctx['textAlign']='center',ctx['shadowColor']='#ff4400',ctx['shadowBlur']=0xf,outText('U\x20CAVADDU\x20RUNNER',canvas['width']/0x2,0x37,'#ffcc00','bold\x2036px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['shadowBlur']=0x0,outText('~\x20Catania\x20Edition\x20~',canvas['width']/0x2,0x4e,'#ffa866','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center');const _0xe44b76=0x104,_0x52d412=0x2c,_0x250f53=0xa,_0x25d7fb=canvas['width']/0x2-_0xe44b76/0x2,_0x26dddb=0x64,_0x32fa7f=_0x26dddb+_0x52d412+_0x250f53,_0x20c819=_0x32fa7f+_0x52d412+_0x250f53,_0x2e7974=_0x20c819+_0x52d412+_0x250f53;btnPlay={'x':_0x25d7fb,'y':_0x26dddb,'w':_0xe44b76,'h':_0x52d412},btnLeaderboard={'x':_0x25d7fb,'y':_0x32fa7f,'w':_0xe44b76,'h':_0x52d412},btnRecipes={'x':_0x25d7fb,'y':_0x20c819,'w':_0xe44b76,'h':_0x52d412},btnIntro={'x':_0x25d7fb,'y':_0x2e7974,'w':_0xe44b76,'h':_0x52d412},drawMenuButton(_0x25d7fb,_0x26dddb,_0xe44b76,_0x52d412,'JUCA!',menuHover==='play'),drawMenuButton(_0x25d7fb,_0x32fa7f,_0xe44b76,_0x52d412,'CLASSIFICA',menuHover==='leaderboard');const _0x30ca85='RICETTE\x20('+unlockedRecipes['length']+'/10)';drawMenuButton(_0x25d7fb,_0x20c819,_0xe44b76,_0x52d412,_0x30ca85,menuHover==='recipes'),drawMenuButton(_0x25d7fb,_0x2e7974,_0xe44b76,_0x52d412,'INTRO\x20&\x20CREDITS',menuHover==='intro');playerNickname?(outText('Giocatore:\x20'+playerNickname,canvas['width']/0x2,_0x2e7974+_0x52d412+0x12,'#ffcc88','bold\x2013px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('(cambia)',canvas['width']/0x2,_0x2e7974+_0x52d412+0x22,'#ff8855','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','center'),btnChangeNick={'x':canvas['width']/0x2-0x28,'y':_0x2e7974+_0x52d412+0x18,'w':0x50,'h':0x10}):btnChangeNick={'x':0x0,'y':0x0,'w':0x0,'h':0x0};if(highScore>0x0){const _0x4f35a7=playerNickname?_0x2e7974+_0x52d412+0x34:_0x2e7974+_0x52d412+0x16;outText('Record:\x20'+highScore,canvas['width']/0x2,_0x4f35a7,'#ffee55','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center');}const _0x2e45e7=playerNickname?_0x2e7974+_0x52d412+0x46:_0x2e7974+_0x52d412+0x2c;outText('SPAZIO\x20=\x20Juca\x20\x20|\x20\x20Sarta\x20cu\x20SPAZIO\x20o\x20tocca',canvas['width']/0x2,_0x2e45e7,'#ffffff','bold\x2013px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('Realizzato\x20by\x202\x20coglioni\x20durante\x20la\x20festa\x20di\x20Sant\x27Agata',canvas['width']/0x2,canvas['height']-0x1a,'#eebb77','bold\x2011px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('@bardimito\x20\x20@m.molica',canvas['width']/0x2,canvas['height']-0xa,'#ffaa66','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','center');}let recipesScroll=0x0;const RECIPES_PER_PAGE=0x3;function drawRecipes(){ctx['fillStyle']='#1a0a0a',ctx['fillRect'](0x0,0x0,canvas['width'],canvas['height']),ctx['textAlign']='center',ctx['shadowColor']='#ff4400',ctx['shadowBlur']=0xc,outText('RICETTE\x20CATANESI',canvas['width']/0x2,0x26,'#ffdd00','bold\x2028px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['shadowBlur']=0x0,outText(unlockedRecipes['length']+'/10\x20sbloccate',canvas['width']/0x2,0x3c,'#ffcc77','bold\x2015px\x20\x22Courier\x20New\x22,\x20monospace','center');const _0x113642=Math['ceil'](RECIPES['length']/RECIPES_PER_PAGE),_0x2ccdf8=Math['floor'](recipesScroll/RECIPES_PER_PAGE),_0x1ff64f=_0x2ccdf8*RECIPES_PER_PAGE,_0x54ce5b=Math['min'](_0x1ff64f+RECIPES_PER_PAGE,RECIPES['length']),_0x298257=0x4e,_0x5dbcf0=0x82,_0x24a087=0xa,_0x3a7972=0x28;for(let _0x491139=_0x1ff64f;_0x491139<_0x54ce5b;_0x491139++){const _0x14a755=_0x491139-_0x1ff64f,_0x288457=_0x298257+_0x14a755*(_0x5dbcf0+_0x24a087),_0x5b3848=unlockedRecipes['includes'](RECIPES[_0x491139]['id']);ctx['fillStyle']=_0x5b3848?'rgba(218,165,32,0.12)':'rgba(80,80,80,0.12)',ctx['fillRect'](_0x3a7972,_0x288457,canvas['width']-_0x3a7972*0x2,_0x5dbcf0),ctx['strokeStyle']=_0x5b3848?'rgba(218,165,32,0.4)':'rgba(100,100,100,0.3)',ctx['lineWidth']=0x1,ctx['strokeRect'](_0x3a7972,_0x288457,canvas['width']-_0x3a7972*0x2,_0x5dbcf0);if(_0x5b3848){outText(_0x491139+0x1+'.\x20'+RECIPES[_0x491139]['name'],canvas['width']/0x2,_0x288457+0x14,'#ffdd44','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText(RECIPES[_0x491139]['desc'],canvas['width']/0x2,_0x288457+0x28,'#ffcc88','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['font']='11px\x20\x22Courier\x20New\x22,\x20monospace';const _0x381452=canvas['width']-_0x3a7972*0x2-0x1e,_0x1502e5=RECIPES[_0x491139]['steps']['split']('\x20');let _0x4cbaf3='',_0x1f0cee=_0x288457+0x3a;for(const _0x5906d1 of _0x1502e5){const _0x4557f8=_0x4cbaf3+(_0x4cbaf3?'\x20':'')+_0x5906d1;if(ctx['measureText'](_0x4557f8)['width']>_0x381452&&_0x4cbaf3){outText(_0x4cbaf3,canvas['width']/0x2,_0x1f0cee,'#ddccaa','11px\x20\x22Courier\x20New\x22,\x20monospace','center'),_0x4cbaf3=_0x5906d1,_0x1f0cee+=0xe;if(_0x1f0cee>_0x288457+_0x5dbcf0-0x8)break;}else _0x4cbaf3=_0x4557f8;}_0x4cbaf3&&_0x1f0cee<=_0x288457+_0x5dbcf0-0x8&&outText(_0x4cbaf3,canvas['width']/0x2,_0x1f0cee,'#ddccaa','11px\x20\x22Courier\x20New\x22,\x20monospace','center');}else{outText(_0x491139+0x1+'.\x20???\x20RICETTA\x20SEGRETA\x20???',canvas['width']/0x2,_0x288457+_0x5dbcf0/0x2-0x6,'#777777','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center');const _0x44baaa='Sblocca\x20tra\x20'+RECIPES[_0x491139]['minScore']+'\x20e\x20'+RECIPES[_0x491139]['maxScore']+'\x20punti';outText(_0x44baaa,canvas['width']/0x2,_0x288457+_0x5dbcf0/0x2+0xe,'#666666','bold\x2012px\x20\x22Courier\x20New\x22,\x20monospace','center');}}const _0x2fa832=_0x298257+RECIPES_PER_PAGE*(_0x5dbcf0+_0x24a087)+0x8,_0x470faa=_0x2ccdf8+0x1+'/'+_0x113642;outText(_0x470faa,canvas['width']/0x2,_0x2fa832+0x10,'#ffffff','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center');const _0x284414=0x3c,_0x5727b6=0x20,_0x3f17f7=canvas['width']/0x2-0x78,_0x441469=canvas['width']/0x2+0x3c;btnRecipesPrev={'x':_0x3f17f7,'y':_0x2fa832,'w':_0x284414,'h':_0x5727b6},btnRecipesNext={'x':_0x441469,'y':_0x2fa832,'w':_0x284414,'h':_0x5727b6};_0x2ccdf8>0x0&&drawMenuButton(_0x3f17f7,_0x2fa832,_0x284414,_0x5727b6,'<',![]);_0x2ccdf8<_0x113642-0x1&&drawMenuButton(_0x441469,_0x2fa832,_0x284414,_0x5727b6,'>',![]);const _0x11f519=0xb4,_0x356f9b=0x26,_0x5b597a=canvas['width']/0x2-_0x11f519/0x2,_0x2ae306=_0x2fa832+_0x5727b6+0xc;btnRecipesBack={'x':_0x5b597a,'y':_0x2ae306,'w':_0x11f519,'h':_0x356f9b},drawMenuButton(_0x5b597a,_0x2ae306,_0x11f519,_0x356f9b,'MENU',![]);}function drawLeaderboard(){ctx['fillStyle']='#1a0a0a',ctx['fillRect'](0x0,0x0,canvas['width'],canvas['height']),ctx['textAlign']='center',ctx['shadowColor']='#ff4400',ctx['shadowBlur']=0xf,outText('CLASSIFICA',canvas['width']/0x2,0x32,'#ffcc00','bold\x2032px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['shadowBlur']=0x0,outText('Top\x205\x20Giocatori',canvas['width']/0x2,0x4c,'#ffa866','bold\x2015px\x20\x22Courier\x20New\x22,\x20monospace','center');if(leaderboardLoading)outText('Caricamento...',canvas['width']/0x2,0xb4,'#ffffff','bold\x2018px\x20\x22Courier\x20New\x22,\x20monospace','center');else{if(leaderboardData['length']===0x0)outText('Nessun\x20punteggio\x20ancora!',canvas['width']/0x2,0xb4,'#888888','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center');else{const _0x1d862b=0x6e,_0x191636=0x38,_0x567517=['#ffd700','#c0c0c0','#cd7f32','#ffffff','#ffffff'],_0x3571a9=['1°','2°','3°','4°','5°'];for(let _0x43cc4c=0x0;_0x43cc4c<leaderboardData['length']&&_0x43cc4c<0x5;_0x43cc4c++){const _0xc4ec12=leaderboardData[_0x43cc4c],_0x436d51=_0x1d862b+_0x43cc4c*_0x191636;ctx['fillStyle']=_0x43cc4c<0x3?'rgba(218,165,32,0.08)':'rgba(80,80,80,0.08)',ctx['fillRect'](0x50,_0x436d51,canvas['width']-0xa0,_0x191636-0x6),ctx['strokeStyle']=_0x43cc4c<0x3?'rgba(218,165,32,0.3)':'rgba(100,100,100,0.2)',ctx['lineWidth']=0x1,ctx['strokeRect'](0x50,_0x436d51,canvas['width']-0xa0,_0x191636-0x6),outText(_0x3571a9[_0x43cc4c],0x78,_0x436d51+0x20,_0x567517[_0x43cc4c],'bold\x2022px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText(_0xc4ec12['nickname']||'???',canvas['width']/0x2-0x28,_0x436d51+0x20,_0x567517[_0x43cc4c],'bold\x2020px\x20\x22Courier\x20New\x22,\x20monospace','left'),outText(String(_0xc4ec12['score']),canvas['width']-0x8c,_0x436d51+0x20,_0x567517[_0x43cc4c],'bold\x2020px\x20\x22Courier\x20New\x22,\x20monospace','right');}}}const _0x3ca51b=0xb4,_0x3fd7e6=0x26,_0x3642bf=canvas['width']/0x2-_0x3ca51b/0x2,_0x3b6f67=canvas['height']-0x46;btnLeaderboardBack={'x':_0x3642bf,'y':_0x3b6f67,'w':_0x3ca51b,'h':_0x3fd7e6},drawMenuButton(_0x3642bf,_0x3b6f67,_0x3ca51b,_0x3fd7e6,'MENU',![]);}function drawGameOverScreen(){ctx['fillStyle']='rgba(0,\x200,\x200,\x200.6)',ctx['fillRect'](0x0,0x0,canvas['width'],canvas['height']);const _0x53fd14=canvas['width']/0x2-0xaf,_0x32eee5=0x32;ctx['fillStyle']='#1a0a0a',ctx['strokeStyle']='#ff4400',ctx['lineWidth']=0x3,ctx['fillRect'](_0x53fd14,_0x32eee5,0x15e,0xf0),ctx['strokeRect'](_0x53fd14,_0x32eee5,0x15e,0xf0),ctx['textAlign']='center',ctx['shadowColor']='#ff0000',ctx['shadowBlur']=frameCount%0x14<0xa?0x14:0x5,outText('MINCHIA!',canvas['width']/0x2,_0x32eee5+0x23,'#ff4400','bold\x2032px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['shadowBlur']=0x0,outText('U\x20cavaddu\x20si\x20stummuliau!',canvas['width']/0x2,_0x32eee5+0x3a,'#ffe0c0','14px\x20\x22Courier\x20New\x22,\x20monospace','center'),ctx['fillStyle']='#daa520',ctx['fillRect'](canvas['width']/0x2-0x8,_0x32eee5+0x42,0x10,0x14),ctx['fillStyle']='#fffff0',ctx['fillRect'](canvas['width']/0x2-0x8,_0x32eee5+0x40,0x10,0x4),ctx['fillStyle']='#e8a020',ctx['fillRect'](canvas['width']/0x2+0xa,_0x32eee5+0x4c,0x8,0x4),ctx['fillRect'](canvas['width']/0x2+0xe,_0x32eee5+0x50,0x6,0x3),outText('Punteggio:\x20'+score,canvas['width']/0x2,_0x32eee5+0x69,'#fff','bold\x2020px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('Record:\x20'+highScore,canvas['width']/0x2,_0x32eee5+0x7d,'#ffdd44','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('Rank:\x20'+currentRank,canvas['width']/0x2,_0x32eee5+0x94,'#55ffee','bold\x2014px\x20\x22Courier\x20New\x22,\x20monospace','center');const _0x93b6b8='Arancini:\x20'+aranciniCollected+'\x20\x20|\x20\x20Best\x20streak:\x20'+bestStreak;outText(_0x93b6b8,canvas['width']/0x2,_0x32eee5+0xa6,'#ffdd44','bold\x2013px\x20\x22Courier\x20New\x22,\x20monospace','center'),recordBroken&&outText('NUOVO\x20RECORD!!!',canvas['width']/0x2,_0x32eee5+0xbe,'#ffdd00','bold\x2016px\x20\x22Courier\x20New\x22,\x20monospace','center'),outText('SPAZIO\x20pi\x20ricominciare',canvas['width']/0x2,_0x32eee5+0xda,'#ffffff','bold\x2014px\x20\x22Courier\x20New\x22,\x20monospace','center');}function render(){ctx['clearRect'](0x0,0x0,canvas['width'],canvas['height']);if(gameState==='menu'){drawMenu();return;}if(gameState==='leaderboard'){drawLeaderboard();return;}if(gameState==='recipes'){drawRecipes();return;}drawBackground(),drawGround(),drawAranciniSprites(),drawHorseSprite(),drawObstacles(),drawScore(),drawFloatingTexts();if(gameState==='gameover')drawGameOverScreen();}let lastTime=0x0;function gameLoop(_0x16539c){if(!lastTime)lastTime=_0x16539c;const _0x2fc4db=_0x16539c-lastTime;lastTime=_0x16539c;const _0x42fa74=Math['min'](_0x2fc4db/16.667,0x3);update(_0x42fa74),render(),requestAnimationFrame(gameLoop);}fetchLeaderboard(),requestAnimationFrame(gameLoop);</script>
</body>
</html>
